{% extends "base.html" %}
{% block content %}
<!--<script type="text/javascript">
    $.ajax({       
        url: "http://stage.bookingcrm.commonfloor.com/token/new.json", 
        type:'POST',
        data:{"username":"online-booking",
              "password":"maxheap123"},
        success: function(result){
            alert('in success');
            alert(JSON.stringify(result));
        },
        error:function(result){
            alert('in error');
            alert(JSON.stringify(result));
        }
    });
</script>-->

<link href="/static/bower_components/datatables-plugins/integration/bootstrap/3/dataTables.bootstrap.css" rel="stylesheet">

    <!-- DataTables Responsive CSS -->
<link href="/static/bower_components/datatables-responsive/css/dataTables.responsive.css" rel="stylesheet">

<br>

<!-- <div class="row">
    <div class="col-lg-4 col-lg-offset-8" align="right">
    	<form role="form" action='' method="POST">
    		{% csrf_token %}
            <div class="form-group input-group">
                <input type="text" class="form-control" name="search-term" placeholder="Search Buyer">
                <span class="input-group-btn">
                    <button class="btn btn-default" type="submit" name="search_buyer"><i class="fa fa-search"></i>
                    </button>
                </span>
            </div>
        </form>
    </div>
</div> -->

<div class="row">
    <div class="col-lg-12">
        <!-- <h3 class="page-header">Buyer's List</h3> -->
        	{% if buyers %}
            <div class="panel panel-default">
                <div class="panel-heading" align="center">
                    Buyer's List
                </div>
                <!-- /.panel-heading -->
                <div class="panel-body">
                    <div class="dataTable_wrapper">
                    	<table class="table table-striped table-bordered table-hover" id="dataTables-buyer">
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Name</th>
                                    <th>Phone</th>
                                    <th>Email</th>
                                    <th>PAN Card No</th>
                                    <th>type</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                            	{% for buyer in buyers %}
                                <tr>
                                    <td>{{ buyer.buyer_id }}</td>
                                    <td>{{ buyer.buyer_name }}</td>
                                    <td>{{ buyer.phone }}</td>
                                    <td>{{ buyer.email }}</td>
                                    <td>{{ buyer.pan_card_number }}</td>
                                    <td>{{ buyer.buyer_type }}</td>
                                    <td><a href="/bookings/?buyer_id={{ buyer.buyer_id }}">Show Bookings</a></td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                    <!-- /.table-responsive -->
                </div>
	            <!-- /.panel-body -->
            </div>
            {% else %}
            	<div align="center" style="margin-top:100px">
            		There is no buyers exist.
            	</div>
            {% endif %}
        
            <!-- /.panel -->
    </div>
    <!-- /.col-lg-12 -->
</div>

    <!-- DataTables JavaScript -->
<script src="/static/bower_components/DataTables/media/js/jquery.dataTables.min.js"></script>
<script src="/static/bower_components/datatables-plugins/integration/bootstrap/3/dataTables.bootstrap.min.js"></script>

<!-- Page-Level Demo Scripts - Tables - Use for reference -->
<script>
$(document).ready(function() {
    $('#dataTables-buyer').DataTable({
            responsive: true
    });
});
</script>
{% endblock %}